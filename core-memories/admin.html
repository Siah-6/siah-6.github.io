<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Core Memories - Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="Icon" type="image/png" href="img/logo.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .admin-container { display: flex; min-height: 100vh; }
        .admin-sidebar {
            width: 250px; background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px); padding: 2rem 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1); position: fixed;
            height: 100vh; overflow-y: auto;
        }
        .admin-main { margin-left: 250px; padding: 2rem; flex: 1; }
        .admin-header {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-radius: 15px; padding: 2rem; margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex; justify-content: space-between; align-items: center;
        }
        .admin-header h1 { color: #333; font-size: 2rem; font-weight: 700; }
        .logout-btn {
            background: #e74c3c; color: white; border: none;
            padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;
            transition: all 0.3s ease;
        }
        .logout-btn:hover { background: #c0392b; transform: translateY(-2px); }
        .sidebar-header h2 { text-align: center; margin-bottom: 2rem; color: #333; }
        .admin-nav { list-style: none; }
        .admin-nav li { margin-bottom: 0.5rem; }
        .admin-nav a {
            display: flex; align-items: center; padding: 1rem 2rem;
            color: #666; text-decoration: none; transition: all 0.3s ease;
        }
        .admin-nav a:hover, .admin-nav a.active {
            background: rgba(102, 126, 234, 0.1); color: #667eea;
            border-right: 3px solid #667eea;
        }
        .admin-nav i { margin-right: 1rem; width: 20px; }
        .admin-page { display: none; }
        .admin-page.active { display: block; }
        .admin-card {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-radius: 15px; padding: 2rem; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        .admin-card h3 { color: #333; margin-bottom: 1.5rem; font-size: 1.3rem; font-weight: 600; }
        .stats-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem; margin-bottom: 2rem;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 2rem; text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease;
        }
        .stat-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); }
        .stat-number { 
            font-size: 3rem; font-weight: 700; color: #fff; margin-bottom: 0.5rem;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }
        .stat-label { 
            font-size: 1rem; color: rgba(255, 255, 255, 0.9); text-transform: uppercase;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        .chart-container { height: 300px; position: relative; }
        .activity-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem 0; border-bottom: 1px solid #f0f0f0;
        }
        .activity-item:last-child { border-bottom: none; }
        .activity-info { flex: 1; }
        .activity-action { font-weight: 600; color: #667eea; }
        .activity-time { color: #999; font-size: 0.9rem; }
        .memories-table {
            width: 100%; border-collapse: collapse; background: white;
            border-radius: 10px; overflow: hidden;
        }
        .memories-table th {
            background: #667eea; color: white; padding: 1rem;
            text-align: left; font-weight: 600;
        }
        .memories-table td { padding: 1rem; border-bottom: 1px solid #f0f0f0; }
        .memories-table tr:hover { background: #f8f9fa; }
        .memory-image {
            width: 60px; height: 60px; object-fit: cover; border-radius: 8px;
        }
        .status-badge {
            padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.8rem; font-weight: 600;
        }
        .status-visible { background: #d4edda; color: #155724; }
        .status-hidden { background: #f8d7da; color: #721c24; }
        .action-buttons { display: flex; gap: 0.5rem; }
        .action-buttons a {
            padding: 0.4rem 0.8rem; border-radius: 6px; text-decoration: none;
            font-size: 0.8rem; transition: all 0.3s ease;
        }
        .edit-btn { background: #667eea; color: white; }
        .delete-btn { background: #e74c3c; color: white; }
        .demo-note {
            background: #fff3cd; border: 1px solid #ffeaa7; color: #856404;
            padding: 1rem; border-radius: 10px; margin-bottom: 2rem;
        }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #555; }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%; padding: 0.8rem; border: 2px solid #e1e1e1;
            border-radius: 8px; font-size: 1rem; transition: all 0.3s ease;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2); color: white;
            border: none; padding: 0.8rem 2rem; border-radius: 8px;
            font-weight: 600; cursor: pointer; transition: all 0.3s ease;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3); }
        .island-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        .island-card {
            background: white; border-radius: 15px; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); transition: all 0.3s ease;
        }
        .island-card:hover { transform: translateY(-10px); }
        .island-image { height: 200px; object-fit: cover; width: 100%; }
        .island-content { padding: 1.5rem; }
        .island-title { font-size: 1.3rem; font-weight: 600; color: #333; margin-bottom: 0.5rem; }
        .island-desc { color: #666; margin-bottom: 1rem; }
        .island-stats { display: flex; justify-content: space-between; margin-bottom: 1rem; }
        .island-stat { text-align: center; }
        .island-stat-number { 
            font-size: 1.5rem; font-weight: 700; color: #fff;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }
        .island-stat-label { 
            font-size: 0.8rem; color: rgba(255, 255, 255, 0.9); text-transform: uppercase;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
        }
    </style>
</head>

<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-brain"></i> Core Memories</h2>
            </div>
            <ul class="admin-nav">
                <li><a href="#" onclick="showAdminPage('dashboard')" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="#" onclick="showAdminPage('memories')"><i class="fas fa-images"></i> Memories</a></li>
                <li><a href="#" onclick="showAdminPage('islands')"><i class="fas fa-island-tropical"></i> Islands</a></li>
                <li><a href="#" onclick="showAdminPage('upload')"><i class="fas fa-upload"></i> Upload</a></li>
                <li><a href="#" onclick="showAdminPage('activity')"><i class="fas fa-history"></i> Activity Log</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <div class="admin-header">
                <h1>Admin Dashboard</h1>
                <button class="logout-btn" onclick="logoutAdmin()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboard" class="admin-page active">
                <div class="admin-card">
                    <div class="demo-note">
                        <i class="fas fa-info-circle"></i> <strong>Demo Mode:</strong> This is a frontend showcase. Any changes you make are simulated and won't persist.
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">25</div>
                        <div class="stat-label">Total Memories</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">4</div>
                        <div class="stat-label">Islands</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">22</div>
                        <div class="stat-label">Visible</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1,247</div>
                        <div class="stat-label">Total Views</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="admin-card">
                            <h3>Island Distribution</h3>
                            <div class="chart-container">
                                <canvas id="islandChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="admin-card">
                            <h3>Memory Growth</h3>
                            <div class="chart-container">
                                <canvas id="growthChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="admin-card">
                    <h3>Recent Activity</h3>
                    <div id="recentActivity">
                        <!-- Activity items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Memories Page -->
            <div id="memories" class="admin-page">
                <div class="admin-card">
                    <h3>Memory Management</h3>
                    <div class="table-responsive">
                        <table class="memories-table">
                            <thead>
                                <tr>
                                    <th>Image</th>
                                    <th>Title</th>
                                    <th>Island</th>
                                    <th>Views</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="memoriesTableBody">
                                <!-- Memories will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Islands Page -->
            <div id="islands" class="admin-page">
                <div class="admin-card">
                    <h3>Island Management</h3>
                    <div class="island-grid" id="islandsGrid">
                        <!-- Islands will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Upload Page -->
            <div id="upload" class="admin-page">
                <div class="admin-card">
                    <h3>Upload New Memory</h3>
                    <form id="uploadForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="memoryTitle">Memory Title</label>
                                    <input type="text" id="memoryTitle" name="title" required>
                                </div>
                                <div class="form-group">
                                    <label for="memoryIsland">Select Island</label>
                                    <select id="memoryIsland" name="island" required>
                                        <option value="">Choose an island...</option>
                                        <option value="1">Meowy the Cat</option>
                                        <option value="2">MLBB</option>
                                        <option value="3">Random Me</option>
                                        <option value="4">Best Anime</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="memoryImage">Image</label>
                                    <input type="file" id="memoryImage" name="image" accept="image/*" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="memoryContent">Description</label>
                                    <textarea id="memoryContent" name="content" rows="6" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="memoryStatus">Status</label>
                                    <select id="memoryStatus" name="status">
                                        <option value="1">Visible</option>
                                        <option value="0">Hidden</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-upload"></i> Upload Memory
                        </button>
                    </form>
                </div>
            </div>

            <!-- Activity Log Page -->
            <div id="activity" class="admin-page">
                <div class="admin-card">
                    <h3>Activity Log</h3>
                    <div id="fullActivityLog">
                        <!-- Full activity log will be loaded here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Mock data
        const islandsData = [
            { id: 1, name: 'Meowy the Cat', memories: 6, color: '#FF6B6B', image: 'catlogo.jpg' },
            { id: 2, name: 'MLBB', memories: 7, color: '#4ECDC4', image: 'gamelogo.jpg' },
            { id: 3, name: 'Random Me', memories: 6, color: '#45B7D1', image: 'piclogo.jpg' },
            { id: 4, name: 'Best Anime', memories: 6, color: '#96CEB4', image: 'animelogo.jpg' }
        ];

        const memoriesData = [
            { id: 1, title: 'Sleeping cat moment', island: 'Meowy the Cat', views: 145, status: 'visible', image: 'cat1.jpg' },
            { id: 2, title: 'Victory moment', island: 'MLBB', views: 234, status: 'visible', image: 'ml2.jpg' },
            { id: 3, title: 'Engk', island: 'Random Me', views: 89, status: 'visible', image: 'pic1.jpg' },
            { id: 4, title: 'Favorite scene', island: 'Best Anime', views: 312, status: 'visible', image: 'anime1.jpg' },
            { id: 5, title: 'Playing with toys', island: 'Meowy the Cat', views: 167, status: 'hidden', image: 'cat2.jpg' },
            { id: 6, title: 'Team fight', island: 'MLBB', views: 298, status: 'visible', image: 'ml1.jpg' },
            { id: 7, title: 'Wacky', island: 'Random Me', views: 76, status: 'visible', image: 'pic2.jpg' },
            { id: 8, title: 'Character moment', island: 'Best Anime', views: 189, status: 'visible', image: 'anime2.jpg' }
        ];

        const activityData = [
            { action: 'Added new memory', details: 'Victory moment to MLBB', time: '2 minutes ago' },
            { action: 'Updated island', details: 'Meowy the Cat description', time: '15 minutes ago' },
            { action: 'Deleted memory', details: 'Old cat photo', time: '1 hour ago' },
            { action: 'Uploaded memory', details: 'Sunset view to Random Me', time: '2 hours ago' },
            { action: 'Modified settings', details: 'Updated admin preferences', time: '3 hours ago' },
            { action: 'Added new memory', details: 'Epic fight to MLBB', time: '5 hours ago' },
            { action: 'Viewed analytics', details: 'Dashboard statistics', time: '6 hours ago' },
            { action: 'Updated memory', details: 'Character moment description', time: '8 hours ago' }
        ];

        // Initialize dashboard
        function initializeDashboard() {
            // Load recent activity
            loadRecentActivity();
            
            // Initialize charts
            initializeCharts();
            
            // Load memories table
            loadMemoriesTable();
            
            // Load islands grid
            loadIslandsGrid();
            
            // Load full activity log
            loadFullActivityLog();
        }

        function showAdminPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.admin-page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Remove active class from all nav links
            document.querySelectorAll('.admin-nav a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Add active class to clicked nav link
            event.target.classList.add('active');
        }

        function loadRecentActivity() {
            const container = document.getElementById('recentActivity');
            container.innerHTML = '';
            
            activityData.slice(0, 5).forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-info">
                        <div class="activity-action">${activity.action}</div>
                        <div>${activity.details}</div>
                    </div>
                    <div class="activity-time">${activity.time}</div>
                `;
                container.appendChild(activityItem);
            });
        }

        function loadFullActivityLog() {
            const container = document.getElementById('fullActivityLog');
            container.innerHTML = '';
            
            activityData.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-info">
                        <div class="activity-action">${activity.action}</div>
                        <div>${activity.details}</div>
                    </div>
                    <div class="activity-time">${activity.time}</div>
                `;
                container.appendChild(activityItem);
            });
        }

        function loadMemoriesTable() {
            const tbody = document.getElementById('memoriesTableBody');
            tbody.innerHTML = '';
            
            memoriesData.forEach(memory => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><img src="img/${memory.image}" alt="${memory.title}" class="memory-image"></td>
                    <td>${memory.title}</td>
                    <td>${memory.island}</td>
                    <td>${memory.views}</td>
                    <td><span class="status-badge status-${memory.status}">${memory.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <a href="#" class="edit-btn" onclick="editMemory(${memory.id})">Edit</a>
                            <a href="#" class="delete-btn" onclick="deleteMemory(${memory.id})">Delete</a>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadIslandsGrid() {
            const container = document.getElementById('islandsGrid');
            container.innerHTML = '';
            
            islandsData.forEach(island => {
                const islandCard = document.createElement('div');
                islandCard.className = 'island-card';
                islandCard.innerHTML = `
                    <img src="img/${island.image}" alt="${island.name}" class="island-image">
                    <div class="island-content">
                        <h4 class="island-title">${island.name}</h4>
                        <div class="island-stats">
                            <div class="island-stat">
                                <div class="island-stat-number">${island.memories}</div>
                                <div class="island-stat-label">Memories</div>
                            </div>
                            <div class="island-stat">
                                <div class="island-stat-number">1.2k</div>
                                <div class="island-stat-label">Views</div>
                            </div>
                            <div class="island-stat">
                                <div class="island-stat-number">89%</div>
                                <div class="island-stat-label">Complete</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <a href="#" class="edit-btn" onclick="editIsland(${island.id})">Edit</a>
                            <a href="#" class="edit-btn" onclick="viewIslandMemories(${island.id})">View Memories</a>
                        </div>
                    </div>
                `;
                container.appendChild(islandCard);
            });
        }

        function initializeCharts() {
            // Island Distribution Chart
            const islandCtx = document.getElementById('islandChart').getContext('2d');
            new Chart(islandCtx, {
                type: 'doughnut',
                data: {
                    labels: islandsData.map(i => i.name),
                    datasets: [{
                        data: islandsData.map(i => i.memories),
                        backgroundColor: islandsData.map(i => i.color),
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        }
                    }
                }
            });

            // Growth Chart
            const growthCtx = document.getElementById('growthChart').getContext('2d');
            new Chart(growthCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Memories Added',
                        data: [3, 5, 4, 7, 6, 8],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function logoutAdmin() {
            if (confirm('Are you sure you want to logout?')) {
                alert('Logged out successfully! (Demo Mode - would redirect to login)');
                window.location.href = 'index.html';
            }
        }

        function editMemory(id) {
            const memory = memoriesData.find(m => m.id === id);
            alert(`Edit Memory: ${memory.title}\n\n(Demo Mode - This would open an edit form)`);
        }

        function deleteMemory(id) {
            const memory = memoriesData.find(m => m.id === id);
            if (confirm(`Are you sure you want to delete "${memory.title}"?`)) {
                alert(`Memory "${memory.title}" deleted! (Demo Mode - Not actually deleted)`);
            }
        }

        function editIsland(id) {
            const island = islandsData.find(i => i.id === id);
            alert(`Edit Island: ${island.name}\n\n(Demo Mode - This would open an edit form)`);
        }

        function viewIslandMemories(id) {
            const island = islandsData.find(i => i.id === id);
            const memories = memoriesData.filter(m => m.island === island.name);
            alert(`Viewing memories for ${island.name}\n\nTotal memories: ${memories.length}\n\n(Demo Mode - This would show a detailed view)`);
        }

        // Handle upload form
        document.getElementById('uploadForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const title = formData.get('title');
            const island = formData.get('island');
            
            alert(`Memory "${title}" uploaded to island ${island}!\n\n(Demo Mode - Not actually uploaded)`);
            this.reset();
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
        });
    </script>
</body>

</html>
