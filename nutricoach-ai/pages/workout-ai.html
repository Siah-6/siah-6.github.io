<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0A1628">
    <title>AI Suggested Workout - NutriCoach AI</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dark-theme.css">
    <link rel="stylesheet" href="../assets/css/workout-session-dark.css">
</head>
<body class="dark-theme">
    <div class="workout-session-container">
        <div class="workout-session-header">
            <button class="back-btn" onclick="window.location.href='workout-plan-improved.html'">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <div class="header-title">
                <h1>üéØ AI Suggested</h1>
                <p>Personalized for your goals</p>
            </div>
        </div>

        <div class="loading-state" id="loadingState">
            <div class="spinner"></div>
            <p>Generating your personalized workout...</p>
        </div>

        <div class="completion-screen" id="completionScreen" style="display: none;">
            <div class="completion-content">
                <div class="completion-icon">üéâ</div>
                <h2>Workout Complete!</h2>
                <p>Great work! You finished today‚Äôs AI session.</p>
                <div class="completion-stats">
                    <div class="stat-item">
                        <span class="stat-icon">‚úÖ</span>
                        <span class="stat-label">5 Exercises Completed</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚≠ê</span>
                        <span class="stat-label">150 XP Earned</span>
                    </div>
                </div>
                <button class="btn-back" onclick="window.location.href='workout-plan-improved.html'">‚Üê Back to Workouts</button>
            </div>
        </div>

        <div class="workout-content" id="workoutContent" style="display: none;">
            <div class="workout-info">
                <div class="info-badge" id="workoutBadge">Ready to Start</div>
                <h2 id="workoutTitle">AI Suggested Workout</h2>
                <div class="workout-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üí™</span>
                        <span class="stat-value" id="exerciseCount">5</span>
                        <span class="stat-label">Exercises</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚≠ê</span>
                        <span class="stat-value" id="xpReward">150</span>
                        <span class="stat-label">XP Reward</span>
                    </div>
                </div>
            </div>

            <div class="start-workout-section" id="startSection">
                <button class="btn-start-workout" id="startWorkoutBtn">üöÄ Start Workout</button>
            </div>

            <div class="exercise-list" id="exerciseList">
                <div class="exercise-card" data-exercise="1">
                    <div class="exercise-header">
                        <div class="exercise-number">1</div>
                        <div class="exercise-info">
                            <h3>Dumbbell Bench Press</h3>
                            <p>3 sets x 10 reps</p>
                            <div class="sets-progress">
                                <span class="sets-label">Sets: 0/3</span>
                            </div>
                        </div>
                    </div>
                    <div class="sets-tracker">
                        <button class="set-button" data-set="1">1</button>
                        <button class="set-button" data-set="2">2</button>
                        <button class="set-button" data-set="3">3</button>
                    </div>
                </div>

                <div class="exercise-card" data-exercise="2">
                    <div class="exercise-header">
                        <div class="exercise-number">2</div>
                        <div class="exercise-info">
                            <h3>Incline Push-Ups</h3>
                            <p>3 sets x 12 reps</p>
                            <div class="sets-progress">
                                <span class="sets-label">Sets: 0/3</span>
                            </div>
                        </div>
                    </div>
                    <div class="sets-tracker">
                        <button class="set-button" data-set="1">1</button>
                        <button class="set-button" data-set="2">2</button>
                        <button class="set-button" data-set="3">3</button>
                    </div>
                </div>

                <div class="exercise-card" data-exercise="3">
                    <div class="exercise-header">
                        <div class="exercise-number">3</div>
                        <div class="exercise-info">
                            <h3>Seated Cable Row</h3>
                            <p>3 sets x 10 reps</p>
                            <div class="sets-progress">
                                <span class="sets-label">Sets: 0/3</span>
                            </div>
                        </div>
                    </div>
                    <div class="sets-tracker">
                        <button class="set-button" data-set="1">1</button>
                        <button class="set-button" data-set="2">2</button>
                        <button class="set-button" data-set="3">3</button>
                    </div>
                </div>

                <div class="exercise-card" data-exercise="4">
                    <div class="exercise-header">
                        <div class="exercise-number">4</div>
                        <div class="exercise-info">
                            <h3>Bulgarian Split Squats</h3>
                            <p>3 sets x 8 reps per leg</p>
                            <div class="sets-progress">
                                <span class="sets-label">Sets: 0/3</span>
                            </div>
                        </div>
                    </div>
                    <div class="sets-tracker">
                        <button class="set-button" data-set="1">1</button>
                        <button class="set-button" data-set="2">2</button>
                        <button class="set-button" data-set="3">3</button>
                    </div>
                </div>

                <div class="exercise-card" data-exercise="5">
                    <div class="exercise-header">
                        <div class="exercise-number">5</div>
                        <div class="exercise-info">
                            <h3>Plank Holds</h3>
                            <p>3 sets x 30 seconds</p>
                            <div class="sets-progress">
                                <span class="sets-label">Sets: 0/3</span>
                            </div>
                        </div>
                    </div>
                    <div class="sets-tracker">
                        <button class="set-button" data-set="1">1</button>
                        <button class="set-button" data-set="2">2</button>
                        <button class="set-button" data-set="3">3</button>
                    </div>
                </div>
            </div>

            <div class="complete-section" id="completeSection" style="display: none;">
                <button class="btn-complete-workout" id="completeWorkoutBtn">‚úÖ Complete Workout</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loadingState = document.getElementById('loadingState');
            const workoutContent = document.getElementById('workoutContent');
            const completionScreen = document.getElementById('completionScreen');
            const startSection = document.getElementById('startSection');
            const startButton = document.getElementById('startWorkoutBtn');
            const completeButton = document.getElementById('completeWorkoutBtn');
            const workoutBadge = document.getElementById('workoutBadge');
            const setButtons = Array.from(document.querySelectorAll('.set-button'));

            setButtons.forEach(button => {
                button.disabled = true;
                button.addEventListener('click', () => toggleSet(button));
            });

            setTimeout(() => {
                loadingState.style.display = 'none';
                workoutContent.style.display = 'block';
            }, 600);

            startButton.addEventListener('click', () => {
                startSection.style.display = 'none';
                workoutBadge.textContent = 'In Progress';
                workoutBadge.style.background = '#FF9800';
                setButtons.forEach(button => {
                    button.disabled = false;
                });
            });

            completeButton.addEventListener('click', () => {
                workoutContent.style.display = 'none';
                completionScreen.style.display = 'block';
            });
        });

        function toggleSet(button) {
            if (button.disabled) return;

            button.classList.toggle('completed');
            button.textContent = button.classList.contains('completed') ? '‚úì' : button.dataset.set;

            const card = button.closest('.exercise-card');
            updateProgress(card);
            checkWorkoutCompletion();
        }

        function updateProgress(card) {
            const totalSets = card.querySelectorAll('.set-button').length;
            const completedSets = card.querySelectorAll('.set-button.completed').length;
            const label = card.querySelector('.sets-label');

            label.textContent = `Sets: ${completedSets}/${totalSets}`;

            if (completedSets === totalSets) {
                card.classList.add('completed');
            } else {
                card.classList.remove('completed');
            }
        }

        function checkWorkoutCompletion() {
            const total = document.querySelectorAll('.set-button').length;
            const completed = document.querySelectorAll('.set-button.completed').length;
            const completeSection = document.getElementById('completeSection');

            completeSection.style.display = completed === total ? 'block' : 'none';
        }
    </script>
</body>
</html>
